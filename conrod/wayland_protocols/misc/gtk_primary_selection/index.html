<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `gtk_primary_selection` mod in crate `wayland_protocols`."><meta name="keywords" content="rust, rustlang, rust-lang, gtk_primary_selection"><title>wayland_protocols::misc::gtk_primary_selection - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css"><link rel="stylesheet" type="text/css" href="../../../light.css" id="themeStyle"><script src="../../../storage.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="shortcut icon" href="../../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../../wayland_protocols/index.html'><div class='logo-container'><img src='../../../rust-logo.png' alt='logo'></div></a><p class='location'>Module gtk_primary_selection</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li></ul></div><p class='location'><a href='../../index.html'>wayland_protocols</a>::<wbr><a href='../index.html'>misc</a></p><script>window.sidebarCurrent = {name: 'gtk_primary_selection', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../../src/wayland_protocols/misc.rs.html#14-64' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../../index.html'>wayland_protocols</a>::<wbr><a href='../index.html'>misc</a>::<wbr><a class="mod" href=''>gtk_primary_selection</a></span></h1><div class='docblock'><p>Gtk primary selection protocol</p>
<p>This protocol provides the ability to have a primary selection device to
match that of the X server. This primary selection is a shortcut to the
common clipboard selection, where text just needs to be selected in order
to allow copying it elsewhere. The de facto way to perform this action
is the middle mouse button, although it is not limited to this one.</p>
<p>Clients wishing to honor primary selection should create a primary
selection source and set it as the selection through
<code>wp_primary_selection_device.set_selection</code> whenever the text selection
changes. In order to minimize calls in pointer-driven text selection,
it should happen only once after the operation finished. Similarly,
a NULL source should be set when text is unselected.</p>
<p><code>wp_primary_selection_offer</code> objects are first announced through the
<code>wp_primary_selection_device.data_offer</code> event. Immediately after this event,
the primary data offer will emit <code>wp_primary_selection_offer.offer</code> events
to let know of the mime types being offered.</p>
<p>When the primary selection changes, the client with the keyboard focus
will receive <code>wp_primary_selection_device.selection</code> events. Only the client
with the keyboard focus will receive such events with a non-NULL
<code>wp_primary_selection_offer</code>. Across keyboard focus changes, previously
focused clients will receive <code>wp_primary_selection_device.events</code> with a
NULL <code>wp_primary_selection_offer</code>.</p>
<p>In order to request the primary selection data, the client must pass
a recent serial pertaining to the press event that is triggering the
operation, if the compositor deems the serial valid and recent, the
<code>wp_primary_selection_source.send</code> event will happen in the other end
to let the transfer begin. The client owning the primary selection
should write the requested data, and close the file descriptor
immediately.</p>
<p>If the primary selection owner client disappeared during the transfer,
the client reading the data will receive a
<code>wp_primary_selection_device.selection</code> event with a NULL
<code>wp_primary_selection_offer</code>, the client should take this as a hint
to finish the reads related to the no longer existing offer.</p>
<p>The primary selection owner should be checking for errors during
writes, merely cancelling the ongoing transfer if any happened.</p>
</div><h2 id='modules' class='section-header'><a href="#modules">Modules</a></h2>
<table><tr class='module-item'><td><a class="mod" href="client/index.html" title='wayland_protocols::misc::gtk_primary_selection::client mod'>client</a></td><td class='docblock-short'><p>Client-side API of this protocol</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../../";window.currentCrate = "wayland_protocols";</script><script src="../../../main.js"></script><script defer src="../../../search-index.js"></script></body></html>